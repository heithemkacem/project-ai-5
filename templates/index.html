<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>AQI Prediction Results</title>
  </head>
  <body>
    <h1>AQI Prediction Results</h1>

    {% if error_message %}
    <div style="color: red">{{ error_message }}</div>
    {% endif %}

    <h2>Model Evaluations</h2>
    <ul>
      {% for model_name, metrics in results.items %}
      <li>
        <strong>{{ model_name }}</strong>
        <ul>
          <li>Mean Squared Error: {{ metrics.MSE }}</li>
          <li>R-squared: {{ metrics.R_squared }}</li>
        </ul>
      </li>
      {% endfor %}
    </ul>

    <h2>Actual vs. Predicted AQI</h2>
    <img
      src="data:image/png;base64,{{ scatter_base64 }}"
      alt="Scatter Plot of Actual vs. Predicted AQI"
    />

    <h2>Correlation Matrix</h2>
    <img
      src="data:image/png;base64,{{ corr_matrix_base64 }}"
      alt="Correlation Matrix"
    />

    <h2>Feature Importances (Random Forest)</h2>
    <img
      src="data:image/png;base64,{{ feature_importance_base64 }}"
      alt="Feature Importances by Random Forest"
    />

    <h2>Histograms of Features</h2>
    {% for feature, image_base64 in histogram_images.items %}
    <h3>{{ feature }}</h3>
    <img
      src="data:image/png;base64,{{ image_base64 }}"
      alt="Histogram of {{ feature }}"
    />
    {% endfor %}
  </body>
</html>
